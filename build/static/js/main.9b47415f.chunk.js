(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n(309)},141:function(e,t,n){},291:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(23),l=n.n(o),c=(n(141),n(15)),u=n(18),s=n(21),m=n(19),d=n(22),p=n(20),f=n(51),E=n(53),h={units:{d2:[101,102,104,105,106,107,201,202,204,205,206,207,301,302,304,305,306,307,401,402,404,405,406,407,501,502,503,601,602,603,701,702,703,801,802,803,901,902,903,1001,1002,1003],d3:[103,203,303,403],d4:[],total:46}},b=Object(E.a)({},h),y=function e(t,n,a){Object(c.a)(this,e),this.id=t,this.dorms="d".concat(n),this.priority=a||0===a?a:-1},O=function e(t,n,a){Object(c.a)(this,e),this.id=t,this.dorms="d".concat(n),this.unit=a},v={family:{id:"",name:"",dorms:0},familyForm:{complete:!0,open:!1},units:(a=b.units,{d2:a.d2.map(function(e){return new y(e,2)}),d2Priorities:a.d2.map(function(e,t){return new O(t,2)}),d3:a.d3.map(function(e){return new y(e,3)}),d3Priorities:a.d3.map(function(e,t){return new O(t,3)}),d4:a.d4.map(function(e){return new y(e,4)}),d4Priorities:a.d4.map(function(e,t){return new O(t,4)}),total:a.total,valid:g(a)})};function g(e){return e.d2.length+e.d3.length+e.d4.length===e.total?{status:!0,message:null}:{status:!1,message:"La cantidad de apartamentos no coincide con el total declarado."}}var j=n(26),I={INIT_APP_STATE:function(e){var t=function(){var e={id:"",name:"",dorms:0};try{var t=JSON.parse(localStorage.getItem("FAMILY_INFO"));return t||e}catch(n){return console.error(n),e}}(),n=t.id,a=t.name,r=t.dorms;e.family=Object.assign({},e.family,{id:n,name:a,dorms:r});var i=_(e),o=!i;return e.familyForm=Object.assign({},e.familyForm,{complete:i,open:o}),e},PATCH_FAMILY:function(e,t){e.family=Object.assign({},e.family,t);var n=_(e);return e.familyForm=Object.assign({},e.familyForm,{complete:n}),e},FAMILY_FORM_OPEN:function(e,t){return e.familyForm=Object.assign({},e.familyForm,{open:t}),e},UNIT_PRIORITY_CHANGE:function(e,t){var n,a,r=t.unit,i=t.priority,o=e.units[r.dorms].map(function(e){return e.id===r.id?((a=new y(r.id,null,i)).dorms=r.dorms,a):e}),l=e.units["".concat(a.dorms,"Priorities")].map(function(e){if(e.id===i){var t=new O(e.id,null,a);return t.dorms=e.dorms,t}return e});return e.units=Object.assign({},e.units,(n={},Object(j.a)(n,r.dorms,o),Object(j.a)(n,"".concat(r.dorms,"Priorities"),l),n)),e},RELEASE_PRIORITY:function(e,t){var n,a=e.units[t.dorms].map(function(e){if(e.id===t.id){var n=new y(t.id,null,-1);return n.dorms=t.dorms,n}return e}),r=e.units["".concat(t.dorms,"Priorities")].map(function(e){if(e.id===t.priority){var n=new O(e.id,null,null);return n.dorms=e.dorms,n}return e});return e.units=Object.assign({},e.units,(n={},Object(j.a)(n,t.dorms,a),Object(j.a)(n,"".concat(t.dorms,"Priorities"),r),n)),e},IMPORT_FAMILY_DATA:function(e,t){return e=Object(E.a)({},e,t,{familyForm:{complete:!0,open:!0}})}};function _(e){return!!(e.family.id&&e.family.name&&e.family.dorms)}var A=Object(f.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=I[t.type];return n?n(Object.assign({},e),t.payload):e},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),w={INIT_APP_STATE:"INIT_APP_STATE",PATCH_FAMILY:"PATCH_FAMILY",FAMILY_FORM_OPEN:"FAMILY_FORM_OPEN",UNIT_PRIORITY_CHANGE:"UNIT_PRIORITY_CHANGE",RELEASE_PRIORITY:"RELEASE_PRIORITY",IMPORT_FAMILY_DATA:"IMPORT_FAMILY_DATA"},F=n(24),P=n(35),T=n.n(P),N=n(41),C=n.n(N),R=n(120),S=n.n(R),x=n(121),M=n.n(x),k=n(122),L=n.n(k),Y=n(123),D=n.n(Y),G=n(125),H=n.n(G),U=n(124),W=n.n(U),B=n(55),J=n.n(B),X=n(56),V=n.n(X),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).save=function(){var e=n.props.family;localStorage.setItem("FAMILY_INFO",JSON.stringify(e)),n.props.onClose()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.family,a=n.id,r=n.name,o=n.dorms,l=e.open,c=e.complete,u=e.onChange;return i.a.createElement(S.a,{className:"family-wrapper",open:l||!c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(M.a,{id:"alert-dialog-title"},"Familia"),i.a.createElement(L.a,null,i.a.createElement(D.a,{id:"alert-dialog-description"},"Ingrese los datos solicitados."),i.a.createElement(T.a,{id:"id",name:"id",label:"N\xba",value:a,onChange:u,margin:"normal",variant:"outlined",type:"number",fullWidth:!0}),i.a.createElement(T.a,{id:"name",name:"name",label:"Nombre",value:r,onChange:u,margin:"normal",variant:"outlined",fullWidth:!0}),i.a.createElement(W.a,{"aria-label":"Cantidad de dormitorios",name:"dorms",className:t.group,value:o.toString(),onChange:u},i.a.createElement(J.a,{value:"2",control:i.a.createElement(V.a,null),label:"2 dormitorios"}),i.a.createElement(J.a,{value:"3",control:i.a.createElement(V.a,null),label:"3 dormitorios"}),i.a.createElement(J.a,{value:"4",control:i.a.createElement(V.a,null),label:"4 dormitorios",disabled:!0}))),i.a.createElement(H.a,null,i.a.createElement(C.a,{variant:"contained",color:"primary",onClick:this.save,autoFocus:!0},"Guardar")))}}]),t}(r.PureComponent),$=Object(F.withStyles)(function(e){return{group:{margin:"".concat(e.spacing.unit,"px 0")}}})(z),q=Object(p.b)(function(e){var t=e.family,n=e.familyForm,a=n.open,r=n.complete;return{family:t,open:a,complete:r}},function(e){return{onChange:function(t){var n=t.currentTarget.getAttribute("name"),a=t.currentTarget.value,r=Object(j.a)({},n,a);"dorms"===n&&(r.dorms=parseInt(r.dorms,10)),e({type:w.PATCH_FAMILY,payload:r})},onClose:function(){return e({type:w.FAMILY_FORM_OPEN,payload:!1})}}})($);var K=n(17),Q=n.n(K),Z=n(42),ee=n.n(Z),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.unit,a=e.units,r=e.onChange,o=e.onReset,l=a["".concat(n.dorms,"Priorities")].filter(function(e){return!e.unit}),c=-1!==n.priority;return i.a.createElement("div",{className:t.unit},i.a.createElement(Q.a,{variant:"h6",align:"center",color:"primary"},n.id),c?i.a.createElement(T.a,{label:"Prioridad",variant:"outlined",margin:"normal",value:n.priority+1,className:t.textField,type:"search",onChange:o(n)}):i.a.createElement(T.a,{select:!0,label:"Prioridad",value:-1,onChange:r(n),margin:"normal",variant:"outlined",className:t.textField},l.map(function(e){return i.a.createElement(ee.a,{key:e.id,value:e.id},e.id+1)})))}}]),t}(r.PureComponent),ne=Object(F.withStyles)(function(e){return{unit:{position:"relative",width:100,height:100,backgroundSolor:"#FFF",boxShadow:"0 5px 20px -5px rgba(0, 0, 0, .5)",margin:10,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:10,flexShrink:0,padding:10},textField:{width:80,marginTop:10,marginBottom:0}}})(te),ae=Object(p.b)(function(e){return{units:e.units}},function(e){return{onChange:function(t){return function(n){var a={unit:t,priority:n.target.value};e({type:w.UNIT_PRIORITY_CHANGE,payload:a})}},onReset:function(t){return function(){return e({type:w.RELEASE_PRIORITY,payload:t})}}}})(ne);var re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.units,a=e.floor;return window.units=n,i.a.createElement("div",{id:"floor-".concat(a),className:t.floor},a>0&&i.a.createElement(Q.a,{variant:"h6",color:"secondary",className:t.title},a/100),n.map(function(e){return i.a.createElement(ae,{key:e.id,unit:e})}))}}]),t}(r.PureComponent),ie=Object(F.withStyles)(function(e){return console.log(e),{floor:{width:"100%",display:"flex",flexWrap:"wrap"},title:{width:40,height:40,borderRadius:20,display:"flex",justifyContent:"center",alignItems:"center",margin:10,boxShadow:"0 5px 20px -5px rgba(0, 0, 0, .5)"}}})(re);var oe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.units),n=e.dorms;if(!n)return i.a.createElement(r.Fragment,null,i.a.createElement(Q.a,{variant:"h6"},"Selecci\xf3n de preferencias"),i.a.createElement(Q.a,null,"No se ha completado la informaci\xf3n necesaria"));var a=function(e){var t=e.slice(),n={};for(;t.length;){var a=t.splice(0,1)[0],r=ue(0,100,a.id);n[r]||(n[r]=[]),n[r].push(a)}return n}(t["d".concat(n)]),o=Object.keys(a);return i.a.createElement(r.Fragment,null,i.a.createElement(ie,{units:[],floor:"-100"}),o.reverse().map(function(e){return i.a.createElement(ie,{key:e,units:a[e],floor:e})}))}}]),t}(r.PureComponent),le=Object(F.withStyles)(function(e){return{}})(oe),ce=Object(p.b)(function(e){var t=e.units,n=e.family.dorms;return{units:t,dorms:n}},function(e){return{}})(le);function ue(e,t,n){return n<t?e:ue(t,t+100,n)}var se=n(126),me=n.n(se),de=n(127),pe=n.n(de),fe=n(77),Ee=n.n(fe),he=n(43),be=n.n(he),ye=n(128),Oe=n.n(ye),ve=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.units,a=e.dorms;if(!a)return i.a.createElement(r.Fragment,null,i.a.createElement(Q.a,{variant:"h6"},"Lista de preferencias"),i.a.createElement(Q.a,null,"No se ha completado la informaci\xf3n necesaria"));var o=n["d".concat(a,"Priorities")];return i.a.createElement(r.Fragment,null,i.a.createElement(me.a,{className:t.table},i.a.createElement(pe.a,null,i.a.createElement(Ee.a,null,i.a.createElement(be.a,{component:"th"},"Prioridad"),i.a.createElement(be.a,{component:"th"},"Unidad"))),i.a.createElement(Oe.a,null,o.map(function(e){return i.a.createElement(Ee.a,{key:e.id},i.a.createElement(be.a,null,e.id+1),i.a.createElement(be.a,null,e.unit?e.unit.id:"-"))}))))}}]),t}(r.PureComponent),ge=Object(F.withStyles)(function(e){return{}})(ve),je=Object(p.b)(function(e){var t=e.units,n=e.family.dorms;return{units:t,dorms:n}},function(e){return{}})(ge);n(291);var Ie=function(e){var t=e.children,n=e.fullWidth;return i.a.createElement("div",{className:"container ".concat(n?"fullWidth":"")},t)},_e=Ie;Ie.defaultProps={fullWidth:!1};var Ae=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download","".concat(e,".json")),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},we=n(129),Fe=n.n(we),Pe=n(130),Te=n.n(Pe),Ne=n(131),Ce=n.n(Ne),Re=n(54),Se=n.n(Re),xe=n(57),Me=n.n(xe),ke=n(134),Le=n.n(ke),Ye=n(132),De=n.n(Ye),Ge=n(135),He=n.n(Ge),Ue=n(133),We=n.n(Ue),Be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.closeImportExportMenu=function(){n.setState({anchorEl:null})},n.openImportExportMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.export=function(){var e=n.props,t=e.family,a=e.units;Ae("".concat(t.id),JSON.stringify({family:t,units:a},null,2)),n.closeImportExportMenu()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props,a=n.classes,o=n.family,l=n.openFamilyFrom,c=n.importData;return i.a.createElement("div",{className:a.root},i.a.createElement(Te.a,{position:"static"},i.a.createElement(Ce.a,null,i.a.createElement(De.a,{fontSize:"large",className:a.menuButton}),i.a.createElement(Q.a,{variant:"h6",color:"inherit",className:a.grow},"Preferencias MTAV"),i.a.createElement(r.Fragment,null,i.a.createElement(Me.a,{title:"Importar/Exportar","aria-label":"Importar/Exportar"},i.a.createElement(Se.a,{color:"inherit",onClick:this.openImportExportMenu},i.a.createElement(We.a,{color:"inherit"}))),i.a.createElement(Le.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.closeImportExportMenu},i.a.createElement(Fe.a,{output:"JSON",onComplete:function(t){c(t),e.closeImportExportMenu()}},i.a.createElement(ee.a,null,"Importar")),i.a.createElement(ee.a,{onClick:this.export},"Exportar"))),i.a.createElement(Me.a,{title:"Guardar","aria-label":"Guardar"},i.a.createElement(Se.a,{color:"inherit",onClick:function(){}},i.a.createElement(He.a,{color:"inherit"}))),i.a.createElement(Me.a,{title:"Editar informaci\xf3n","aria-label":"Editar informaci\xf3n"},i.a.createElement(C.a,{color:"inherit",onClick:l},"#".concat(o.id," ").concat(o.name," - ").concat(o.dorms,"D"))))))}}]),t}(r.PureComponent),Je=Object(F.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginRight:20}}})(Be),Xe=Object(p.b)(function(e){var t=e.family,n=e.units;return{family:t,units:n}},function(e){return{openFamilyFrom:function(){return e({type:w.FAMILY_FORM_OPEN,payload:!0})},importData:function(t){return e({type:w.IMPORT_FAMILY_DATA,payload:t})}}})(Je);var Ve=n(58),ze=n.n(Ve),$e=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.initAppState()}},{key:"render",value:function(){return i.a.createElement(r.Fragment,null,i.a.createElement(Xe,null),i.a.createElement(_e,{className:"app-wrapper"},i.a.createElement(q,null),i.a.createElement(ze.a,{container:!0,spacing:24},i.a.createElement(ze.a,{item:!0,xs:9},i.a.createElement(ce,null)),i.a.createElement(ze.a,{item:!0,xs:3},i.a.createElement(je,null)))))}}]),t}(r.PureComponent),qe=Object(p.b)(function(e){e.familyForm;return{}},function(e){return{initAppState:function(){return e({type:w.INIT_APP_STATE})}}})($e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(307);l.a.render(i.a.createElement(p.a,{store:A},i.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[136,2,1]]]);
//# sourceMappingURL=main.9b47415f.chunk.js.map